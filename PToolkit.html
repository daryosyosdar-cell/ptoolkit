<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Playtime Withdrawal & Game Tool by Cosmic</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }

        .header p {
            font-size: 1.2em;
            opacity: 0.9;
        }

        .main-content {
            display: flex;
            min-height: 600px;
        }

        .sidebar {
            width: 300px;
            background: #f8f9fa;
            padding: 30px 20px;
            border-right: 1px solid #e9ecef;
        }

        .nav-button {
            display: block;
            width: 100%;
            padding: 15px 20px;
            margin-bottom: 10px;
            background: white;
            border: 2px solid #667eea;
            border-radius: 10px;
            color: #667eea;
            text-decoration: none;
            text-align: center;
            font-weight: 600;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .nav-button:hover, .nav-button.active {
            background: #667eea;
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.3);
        }

        .content-area {
            flex: 1;
            padding: 30px;
        }

        .section {
            display: none;
        }

        .section.active {
            display: block;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #333;
        }

        .form-group input, .form-group select, .form-group textarea {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            font-size: 16px;
            transition: border-color 0.3s ease;
        }

        .form-group input:focus, .form-group select:focus, .form-group textarea:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .btn {
            padding: 12px 30px;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-right: 10px;
            margin-bottom: 10px;
        }

        .btn-primary {
            background: #667eea;
            color: white;
        }

        .btn-primary:hover {
            background: #5a6fd8;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.3);
        }

        .btn-success {
            background: #28a745;
            color: white;
        }

        .btn-success:hover {
            background: #218838;
        }

        .btn-warning {
            background: #ffc107;
            color: #212529;
        }

        .btn-warning:hover {
            background: #e0a800;
        }

        .result-area {
            margin-top: 30px;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 10px;
            border-left: 5px solid #667eea;
        }

        .result-area h3 {
            margin-bottom: 15px;
            color: #333;
        }

        .log-entry {
            padding: 10px;
            margin-bottom: 10px;
            border-radius: 5px;
            font-family: 'Courier New', monospace;
            font-size: 14px;
        }

        .log-success {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }

        .log-error {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }

        .log-info {
            background: #d1ecf1;
            color: #0c5460;
            border: 1px solid #bee5eb;
        }

        .loading {
            display: none;
            text-align: center;
            padding: 20px;
        }

        .spinner {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #667eea;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 0 auto 15px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .account-info {
            background: white;
            padding: 20px;
            border-radius: 10px;
            border: 1px solid #e9ecef;
            margin-bottom: 20px;
        }

        .account-info h4 {
            color: #667eea;
            margin-bottom: 15px;
        }

        .info-row {
            display: flex;
            justify-content: space-between;
            padding: 8px 0;
            border-bottom: 1px solid #f8f9fa;
        }

        .info-row:last-child {
            border-bottom: none;
        }

        .info-label {
            font-weight: 600;
            color: #666;
        }

        .info-value {
            color: #333;
        }

        .game-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .game-card {
            background: white;
            padding: 20px;
            border-radius: 10px;
            border: 2px solid #e9ecef;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .game-card:hover {
            border-color: #667eea;
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
        }

        .game-card h4 {
            color: #667eea;
            margin-bottom: 10px;
        }

        .url-output {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 8px;
            border: 1px solid #e9ecef;
            margin-top: 15px;
            font-family: 'Courier New', monospace;
            font-size: 12px;
            word-break: break-all;
            max-height: 200px;
            overflow-y: auto;
        }

        .copy-btn {
            background: #28a745;
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 12px;
            margin-top: 10px;
        }

        .copy-btn:hover {
            background: #218838;
        }

        @media (max-width: 768px) {
            .main-content {
                flex-direction: column;
            }
            
            .sidebar {
                width: 100%;
            }
            
            .header h1 {
                font-size: 2em;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üéÆ Playtime Tool Suite</h1>
            <p>Withdrawal & Game Management by Cosmic (BETA)</p>
        </div>

        <div class="main-content">
            <div class="sidebar">
                <button class="nav-button active" onclick="showSection('withdrawal')">üí∞ Make Withdrawal</button>
                <button class="nav-button" onclick="showSection('account')">üë§ Check Account Info</button>
                <button class="nav-button" onclick="showSection('balance')">üí≥ Check Balance</button>
                <button class="nav-button" onclick="showSection('games')">üé≤ Game URLs</button>
                <button class="nav-button" onclick="showSection('bulk-games')">üéØ Bulk Game URLs</button>
            </div>

            <div class="content-area">
                <!-- Withdrawal Section -->
                <div id="withdrawal" class="section active">
                    <h2>üí∞ Make Withdrawal</h2>
                    <div class="form-group">
                        <label for="withdrawal-token">Token:</label>
                        <input type="text" id="withdrawal-token" placeholder="Enter your token">
                    </div>
                    <div class="form-group">
                        <label for="withdrawal-amount">Amount:</label>
                        <input type="number" id="withdrawal-amount" placeholder="Enter withdrawal amount" step="0.01">
                    </div>
                    <button class="btn btn-primary" onclick="processWithdrawal()">Process Withdrawal</button>
                    
                    <div class="loading" id="withdrawal-loading">
                        <div class="spinner"></div>
                        <p>Processing withdrawal...</p>
                    </div>
                    
                    <div class="result-area" id="withdrawal-result" style="display: none;">
                        <h3>Results</h3>
                        <div id="withdrawal-logs"></div>
                    </div>
                </div>

                <!-- Account Info Section -->
                <div id="account" class="section">
                    <h2>üë§ Account Information</h2>
                    <div class="form-group">
                        <label for="account-token">Token:</label>
                        <input type="text" id="account-token" placeholder="Enter your token">
                    </div>
                    <button class="btn btn-primary" onclick="checkAccountInfo()">Get Account Info</button>
                    
                    <div class="loading" id="account-loading">
                        <div class="spinner"></div>
                        <p>Fetching account information...</p>
                    </div>
                    
                    <div id="account-info-display"></div>
                </div>

                <!-- Balance Section -->
                <div id="balance" class="section">
                    <h2>üí≥ Check Balance</h2>
                    <div class="form-group">
                        <label for="balance-token">Token:</label>
                        <input type="text" id="balance-token" placeholder="Enter your token">
                    </div>
                    <button class="btn btn-primary" onclick="checkBalance()">Check Balance</button>
                    
                    <div class="loading" id="balance-loading">
                        <div class="spinner"></div>
                        <p>Checking balance...</p>
                    </div>
                    
                    <div class="result-area" id="balance-result" style="display: none;">
                        <h3>Balance Information</h3>
                        <div id="balance-logs"></div>
                    </div>
                </div>

                <!-- Games Section -->
                <div id="games" class="section">
                    <h2>üé≤ Generate Game URLs</h2>
                    <div class="form-group">
                        <label for="game-token">Token:</label>
                        <input type="text" id="game-token" placeholder="Enter your token">
                    </div>
                    
                    <div class="game-grid">
                        <div class="game-card" onclick="generateGameUrl('SpeedAutoRo00001', 'Evolution', '3')">
                            <h4>üé∞ Speed Roulette</h4>
                            <p>Evolution Gaming</p>
                        </div>
                        <div class="game-card" onclick="generateGameUrl('FanTan0000000001', 'Evolution', '3')">
                            <h4>üé¥ Fan Tan</h4>
                            <p>Evolution Gaming</p>
                        </div>
                        <div class="game-card" onclick="generateGameUrl('leqhceumaq6qfoug', 'Evolution', '3')">
                            <h4>üÉè Speed Baccarat</h4>
                            <p>Evolution Gaming</p>
                        </div>
                        <div class="game-card" onclick="generateGameUrl('49', 'JILI', '1')">
                            <h4>üéÆ JILI Game</h4>
                            <p>Game ID: 49</p>
                        </div>
                        <div class="game-card" onclick="generateGameUrl('111', 'JILI', '1')">
                            <h4>üëë Number King</h4>
                            <p>Game ID: 111</p>
                        </div>
                    </div>
                    
                    <div class="loading" id="game-loading">
                        <div class="spinner"></div>
                        <p>Generating game URL...</p>
                    </div>
                    
                    <div id="game-result"></div>
                </div>

                <!-- Bulk Games Section -->
                <div id="bulk-games" class="section">
                    <h2>üéØ Bulk Game URL Generation</h2>
                    <div class="form-group">
                        <label for="bulk-tokens">Tokens (one per line):</label>
                        <textarea id="bulk-tokens" rows="5" placeholder="Enter tokens, one per line"></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label for="bulk-game-select">Select Game:</label>
                        <select id="bulk-game-select">
                            <option value="SpeedAutoRo00001,Evolution,3">Speed Roulette</option>                
                            <option value="FanTan0000000001,Evolution,3">Fan Tan</option>
                            <option value="leqhceumaq6qfoug,Evolution,3">Speed Baccarat</option>
                            <option value="49,JILI,1">JILI Game (ID: 49)</option>
                            <option value="111,JILI,1">Number King (ID: 111)</option>
                        </select>
                    </div>
                    
                    <button class="btn btn-primary" onclick="generateBulkGameUrls()">Generate All URLs</button>
                    
                    <div class="loading" id="bulk-loading">
                        <div class="spinner"></div>
                        <p>Generating URLs for all accounts...</p>
                    </div>
                    
                    <div id="bulk-result"></div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Utility functions
        function showSection(sectionId) {
            // Hide all sections
            document.querySelectorAll('.section').forEach(section => {
                section.classList.remove('active');
            });
            
            // Remove active class from all nav buttons
            document.querySelectorAll('.nav-button').forEach(button => {
                button.classList.remove('active');
            });
            
            // Show selected section
            document.getElementById(sectionId).classList.add('active');
            
            // Add active class to clicked button
            event.target.classList.add('active');
        }

        function showLoading(loadingId) {
            document.getElementById(loadingId).style.display = 'block';
        }

        function hideLoading(loadingId) {
            document.getElementById(loadingId).style.display = 'none';
        }

        function addLog(containerId, message, type = 'info') {
            const container = document.getElementById(containerId);
            const logEntry = document.createElement('div');
            logEntry.className = `log-entry log-${type}`;
            logEntry.textContent = `${new Date().toLocaleTimeString()}: ${message}`;
            container.appendChild(logEntry);
            container.scrollTop = container.scrollHeight;
        }

        function clearLogs(containerId) {
            document.getElementById(containerId).innerHTML = '';
        }

        // Crypto functions (simplified versions of your Python functions)
        function generateSignature(token, endpointData, timestamp) {
            const SIGN = "p&YCK^Ko0$!";
            const KEY = "!1ha6N?4he5HaZb";
            
            function generateSignaturePayload(obj) {
                if (obj === null || obj === undefined) return "";
                if (typeof obj !== 'object') return String(obj);
                
                const resultParts = [];
                const sortedKeys = Object.keys(obj).sort();
                
                for (const key of sortedKeys) {
                    const value = obj[key];
                    if (value !== null && value !== "" && value !== false) {
                        const processedValue = generateSignaturePayload(value);
                        if (processedValue !== "") {
                            resultParts.push(processedValue);
                        }
                    }
                }
                return resultParts.join("||");
            }
            
            const payloadData = {
                terminal: "128",
                token: token,
                ts: timestamp,
                ...endpointData
            };
            
            const signaturePayload = generateSignaturePayload(payloadData);
            const signatureString = `${signaturePayload}||${SIGN}${KEY}`;
            
            return md5(signatureString);
        }

        // Simple MD5 implementation (you might want to use a proper crypto library)
        function md5(string) {
            // This is a simplified version - in production, use a proper crypto library
            // For now, we'll use a placeholder that mimics the structure
            return "placeholder_md5_hash_" + Math.random().toString(36).substr(2, 9);
        }

        // API Functions
        async function makeApiRequest(url, headers, data) {
            try {
                const response = await fetch(url, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/x-www-form-urlencoded',
                        ...headers
                    },
                    body: new URLSearchParams(data)
                });
                
                if (!response.ok) {
                    throw new Error(`HTTP ${response.status}: ${response.statusText}`);
                }
                
                return await response.json();
            } catch (error) {
                throw new Error(`Request failed: ${error.message}`);
            }
        }

        async function checkGlobalConfig(token) {
            const timestamp = Math.floor(Date.now() / 1000).toString();
            const signature = generateSignature(token, {}, timestamp);
            
            const headers = {
                'Accept': '*/*',
                'Origin': 'https://www.playtime.ph',
                'Referer': 'https://www.playtime.ph/',
                'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36',
                'terminal': '128',
                'ts': timestamp,
                'sign': signature
            };
            
            const data = { token: token };
            
            try {
                const response = await makeApiRequest(
                    'https://io.playgame.zone/api/v2/global-config/recharge',
                    headers,
                    data
                );
                return response.code === 200;
            } catch (error) {
                console.error('Global config error:', error);
                return false;
            }
        }

        async function checkBackhall(token) {
            const timestamp = Math.floor(Date.now() / 1000).toString();
            const signature = generateSignature(token, {}, timestamp);
            
            const headers = {
                'Accept': '*/*',
                'Origin': 'https://www.playtime.ph',
                'Referer': 'https://www.playtime.ph/',
                'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36',
                'terminal': '128',
                'ts': timestamp,
                'sign': signature
            };
            
            const data = { token: token };
            
            try {
                const response = await makeApiRequest(
                    'https://io.playgame.zone/api/v2/jili/backhall',
                    headers,
                    data
                );
                
                if (response.code === 200) {
                    return response.balance || 0;
                }
                return null;
            } catch (error) {
                console.error('Backhall error:', error);
                return null;
            }
        }

        async function getAccountInfo(token) {
            const timestamp = Math.floor(Date.now() / 1000).toString();
            const signature = generateSignature(token, { product_type: "3" }, timestamp);
            
            const headers = {
                'Accept': '*/*',
                'Origin': 'https://www.playtime.ph',
                'Referer': 'https://www.playtime.ph/',
                'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36',
                'terminal': '128',
                'ts': timestamp,
                'sign': signature
            };
            
            const data = { 
                token: token,
                product_type: '3'
            };
            
            try {
                const response = await makeApiRequest(
                    'https://io.playgame.zone/api/v2/get/default/account',
                    headers,
                    data
                );
                
                if (response.code === 200) {
                    return response.data;
                }
                return null;
            } catch (error) {
                console.error('Account info error:', error);
                return null;
            }
        }

        async function generateGameUrlApi(token, thirdGameId, catype = "Evolution", companyId = "3") {
            const timestamp = Math.floor(Date.now() / 1000).toString();
            const signature = generateSignature(token, {
                company_id: companyId,
                third_game_id: thirdGameId
            }, timestamp);
            
            const headers = {
                'Accept': '*/*',
                'Origin': 'https://www.playtime.ph',
                'Referer': 'https://www.playtime.ph/',
                'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36',
                'catype': catype,
                'terminal': '128',
                'ts': timestamp,
                'sign': signature
            };
            
            const data = {
                token: token,
                third_game_id: thirdGameId,
                company_id: companyId
            };
            
            try {
                const response = await makeApiRequest(
                    'https://io.playgame.zone/api/v2/jili/login',
                    headers,
                    data
                );
                
                if (response.code === 0) {
                    return response.game_url;
                }
                return null;
            } catch (error) {
                console.error('Game URL error:', error);
                return null;
            }
        }

        // Main Functions
        async function processWithdrawal() {
            const token = document.getElementById('withdrawal-token').value.trim();
            const amount = parseFloat(document.getElementById('withdrawal-amount').value);
            
            if (!token) {
                alert('Please enter a token');
                return;
            }
            
            if (!amount || amount <= 0) {
                alert('Please enter a valid amount');
                return;
            }
            
            showLoading('withdrawal-loading');
            document.getElementById('withdrawal-result').style.display = 'block';
            clearLogs('withdrawal-logs');
            
            try {
                // Step 1: Check global config
                addLog('withdrawal-logs', 'Checking global configuration...', 'info');
                const globalConfigOk = await checkGlobalConfig(token);
                if (!globalConfigOk) {
                    addLog('withdrawal-logs', 'Global configuration check failed', 'error');
                    return;
                }
                addLog('withdrawal-logs', 'Global configuration check passed', 'success');
                
                // Step 2: Check balance
                addLog('withdrawal-logs', 'Checking account balance...', 'info');
                const balance = await checkBackhall(token);
                if (balance === null) {
                    addLog('withdrawal-logs', 'Balance check failed', 'error');
                    return;
                }
                addLog('withdrawal-logs', `Current balance: ${balance}`, 'success');
                
                if (amount > balance) {
                    addLog('withdrawal-logs', `Insufficient balance. Current: ${balance}, Requested: ${amount}`, 'error');
                    return;
                }
                
                // Step 3: Get account info
                addLog('withdrawal-logs', 'Getting account information...', 'info');
                const accountInfo = await getAccountInfo(token);
                if (!accountInfo) {
                    addLog('withdrawal-logs', 'Failed to get account information', 'error');
                    return;
                }
                addLog('withdrawal-logs', `Account found: ${accountInfo.account_no}`, 'success');
                
                // Step 4: Process withdrawal (placeholder - needs proper implementation)
                addLog('withdrawal-logs', 'Processing withdrawal...', 'info');
                addLog('withdrawal-logs', 'WARNING: Withdrawal processing not fully implemented yet', 'error');
                addLog('withdrawal-logs', 'This is a demo version - actual withdrawal requires proper encryption', 'error');
                
            } catch (error) {
                addLog('withdrawal-logs', `Error: ${error.message}`, 'error');
            } finally {
                hideLoading('withdrawal-loading');
            }
        }

        async function checkAccountInfo() {
            const token = document.getElementById('account-token').value.trim();
            
            if (!token) {
                alert('Please enter a token');
                return;
            }
            
            showLoading('account-loading');
            
            try {
                // Check prerequisites first
                const globalConfigOk = await checkGlobalConfig(token);
                if (!globalConfigOk) {
                    alert('Global configuration check failed');
                    return;
                }
                
                const balance = await checkBackhall(token);
                if (balance === null) {
                    alert('Balance check failed');
                    return;
                }
                
                const accountInfo = await getAccountInfo(token);
                if (!accountInfo) {
                    alert('Failed to get account information');
                    return;
                }
                
                // Display account info
                const displayDiv = document.getElementById('account-info-display');
                displayDiv.innerHTML = `
                    <div class="account-info">
                        <h4>Account Information</h4>
                        <div class="info-row">
                            <span class="info-label">Balance:</span>
                            <span class="info-value">${balance}</span>
                        </div>
                        <div class="info-row">
                            <span class="info-label">Account ID:</span>
                            <span class="info-value">${accountInfo.account_id || 'N/A'}</span>
                        </div>
                        <div class="info-row">
                            <span class="info-label">Account No:</span>
                            <span class="info-value">${accountInfo.account_no || 'N/A'}</span>
                        </div>
                        <div class="info-row">
                            <span class="info-label">Pay Code:</span>
                            <span class="info-value">${accountInfo.pay_code || 'N/A'}</span>
                        </div>
                        <div class="info-row">
                            <span class="info-label">Account Name:</span>
                            <span class="info-value">${accountInfo.account_name || 'N/A'}</span>
                        </div>
                    </div>
                `;
                
            } catch (error) {
                alert(`Error: ${error.message}`);
            } finally {
                hideLoading('account-loading');
            }
        }

        async function checkBalance() {
            const token = document.getElementById('balance-token').value.trim();
            
            if (!token) {
                alert('Please enter a token');
                return;
            }
            
            showLoading('balance-loading');
            document.getElementById('balance-result').style.display = 'block';
            clearLogs('balance-logs');
            
            try {
                addLog('balance-logs', 'Checking balance...', 'info');
                const balance = await checkBackhall(token);
                
                if (balance !== null) {
                    addLog('balance-logs', `Current Balance: ${balance}`, 'success');
                } else {
                    addLog('balance-logs', 'Failed to retrieve balance', 'error');
                }
                
            } catch (error) {
                addLog('balance-logs', `Error: ${error.message}`, 'error');
            } finally {
                hideLoading('balance-loading');
            }
        }
        
        async function generateGameUrl(thirdGameId, catype, companyId) {
            const token = document.getElementById('game-token').value.trim();
            
            if (!token) {
                alert('Please enter a token');
                return;
            }
            
            showLoading('game-loading');
            
            try {
                const gameUrl = await generateGameUrlApi(token, thirdGameId, catype, companyId);
                
                if (gameUrl) {
                    const resultDiv = document.getElementById('game-result');
                    resultDiv.innerHTML = `
                        <div class="account-info">
                            <h4>Game URL Generated Successfully!</h4>
                            <div class="url-output">${gameUrl}</div>
                            <button class="copy-btn" onclick="copyToClipboard('${gameUrl}')">Copy URL</button>
                        </div>
                    `;
                } else {
                    alert('Failed to generate game URL');
                }
                
            } catch (error) {
                alert(`Error: ${error.message}`);
            } finally {
                hideLoading('game-loading');
            }
        }

        async function generateBulkGameUrls() {
            const tokensText = document.getElementById('bulk-tokens').value.trim();
            const gameSelect = document.getElementById('bulk-game-select').value;
            
            if (!tokensText) {
                alert('Please enter at least one token');
                return;
            }
            
            const tokens = tokensText.split('\n').filter(token => token.trim());
            const [thirdGameId, catype, companyId] = gameSelect.split(',');
            
            showLoading('bulk-loading');
            
            try {
                const results = [];
                const resultDiv = document.getElementById('bulk-result');
                resultDiv.innerHTML = '<div class="account-info"><h4>Processing...</h4></div>';
                
                for (let i = 0; i < tokens.length; i++) {
                    const token = tokens[i].trim();
                    
                    try {
                        const gameUrl = await generateGameUrlApi(token, thirdGameId, catype, companyId);
                        
                        if (gameUrl) {
                            results.push(gameUrl);
                            resultDiv.innerHTML += `<div class="log-entry log-success">Account ${i + 1}: SUCCESS!</div>`;
                        } else {
                            resultDiv.innerHTML += `<div class="log-entry log-error">Account ${i + 1}: Failed to generate URL</div>`;
                        }
                    } catch (error) {
                        resultDiv.innerHTML += `<div class="log-entry log-error">Account ${i + 1}: ${error.message}</div>`;
                    }
                    
                    // Add delay between requests
                    if (i < tokens.length - 1) {
                        await new Promise(resolve => setTimeout(resolve, 2000));
                    }
                }
                
                if (results.length > 0) {
                    const allUrls = results.join(', ');
                    resultDiv.innerHTML += `
                        <div class="account-info" style="margin-top: 20px;">
                            <h4>üéâ Generated ${results.length} URLs Successfully!</h4>
                            <div class="url-output">${allUrls}</div>
                            <button class="copy-btn" onclick="copyToClipboard('${allUrls}')">Copy All URLs</button>
                        </div>
                    `;
                } else {
                    resultDiv.innerHTML += '<div class="log-entry log-error">No URLs were generated successfully</div>';
                }
                
            } catch (error) {
                alert(`Error: ${error.message}`);
            } finally {
                hideLoading('bulk-loading');
            }
        }

        // Utility function to copy text to clipboard
        function copyToClipboard(text) {
            if (navigator.clipboard && window.isSecureContext) {
                navigator.clipboard.writeText(text).then(() => {
                    alert('Copied to clipboard!');
                }).catch(err => {
                    console.error('Failed to copy: ', err);
                    fallbackCopyTextToClipboard(text);
                });
            } else {
                fallbackCopyTextToClipboard(text);
            }
        }

        function fallbackCopyTextToClipboard(text) {
            const textArea = document.createElement("textarea");
            textArea.value = text;
            textArea.style.top = "0";
            textArea.style.left = "0";
            textArea.style.position = "fixed";
            document.body.appendChild(textArea);
            textArea.focus();
            textArea.select();
            
            try {
                const successful = document.execCommand('copy');
                if (successful) {
                    alert('Copied to clipboard!');
                } else {
                    alert('Failed to copy to clipboard');
                }
            } catch (err) {
                console.error('Fallback: Oops, unable to copy', err);
                alert('Failed to copy to clipboard');
            }
            
            document.body.removeChild(textArea);
        }

        // Initialize the page
        document.addEventListener('DOMContentLoaded', function() {
            console.log('Playtime Tool Suite loaded successfully!');
            
            // Add some sample data for testing (remove in production)
            if (window.location.hostname === 'localhost' || window.location.hostname === '127.0.0.1') {
                console.log('Development mode detected');
            }
        });

        // Add keyboard shortcuts
        document.addEventListener('keydown', function(e) {
            // Ctrl/Cmd + Enter to submit forms
            if ((e.ctrlKey || e.metaKey) && e.key === 'Enter') {
                const activeSection = document.querySelector('.section.active');
                if (activeSection) {
                    const submitBtn = activeSection.querySelector('.btn-primary');
                    if (submitBtn) {
                        submitBtn.click();
                    }
                }
            }
        });

        // Auto-save form data to localStorage
        function saveFormData() {
            const forms = ['withdrawal-token', 'account-token', 'balance-token', 'game-token', 'bulk-tokens'];
            forms.forEach(id => {
                const element = document.getElementById(id);
                if (element && element.value) {
                    localStorage.setItem(id, element.value);
                }
            });
        }

        function loadFormData() {
            const forms = ['withdrawal-token', 'account-token', 'balance-token', 'game-token', 'bulk-tokens'];
            forms.forEach(id => {
                const element = document.getElementById(id);
                const savedValue = localStorage.getItem(id);
                if (element && savedValue) {
                    element.value = savedValue;
                }
            });
        }

        // Load saved form data on page load
        window.addEventListener('load', loadFormData);

        // Save form data on input
        document.addEventListener('input', function(e) {
            if (e.target.tagName === 'INPUT' || e.target.tagName === 'TEXTAREA') {
                saveFormData();
            }
        });
    </script>
</body>
</html>
